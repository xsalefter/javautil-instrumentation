SQL> 
SQL>   drop sequence service_rqst_log_nbr_seq;

Sequence SERVICE_RQST_LOG_NBR_SEQ dropped.

SQL>   drop TABLE SERVICE_RQST;

Table SERVICE_RQST dropped.

SQL>   drop TABLE SERVICE_RQST_LOG ;

Table SERVICE_RQST_LOG dropped.

SQL>   drop TABLE SERVICE_RQST_PARMS ;

Error starting at line : 7 File @ /common/home/jjs/java-projects/Instrumentation/oracle/service_request_tables.sql
In command -
  drop TABLE SERVICE_RQST_PARMS
Error report -
ORA-00942: table or view does not exist

SQL> 
SQL> 
SQL> 
SQL> 
SQL>   create sequence service_rqst_log_nbr_seq;

Sequence SERVICE_RQST_LOG_NBR_SEQ created.

SQL> 
SQL>   CREATE TABLE SERVICE_RQST 
  2     (	SERVICE_RQST_CD 	VARCHAR2(20) NOT NULL ENABLE, 
  3  	SERVICE_RQST_DESCR 	VARCHAR2(60) NOT NULL ENABLE, 
  4  	CLASSNAME 		VARCHAR2(255), 
  5  	PIPE_NM 		VARCHAR2(255), 
  6  	VALIDATE_FLG 		VARCHAR2(1) DEFAULT 'Y' NOT NULL ENABLE
  7     ) ;

Table SERVICE_RQST created.

SQL> 
SQL>   ALTER TABLE SERVICE_RQST ADD 
  2    CONSTRAINT SERVICE_RQST_PK PRIMARY KEY (SERVICE_RQST_CD) ENABLE;

Table SERVICE_RQST altered.

SQL> 
SQL>   ALTER TABLE SERVICE_RQST ADD CHECK (validate_flg in ('Y', 'N')) ENABLE;

Table SERVICE_RQST altered.

SQL> 
SQL> 
SQL>   CREATE TABLE SERVICE_RQST_LOG 
  2     (	SERVICE_RQST_LOG_NBR NUMBER(9,0) NOT NULL ENABLE, 
  3  	SERVICE_RQST_CD VARCHAR2(20) NOT NULL ENABLE, 
  4  	SERVICE_RQST_PARMS VARCHAR2(2048) NOT NULL ENABLE, 
  5  	SERVICE_RQST_ISSUE_TM DATE NOT NULL ENABLE, 
  6  	SERVICE_RQST_COMPLETE_TM DATE, 
  7  	SERVICE_RQST_ELAPSED_MS NUMBER(9,0), 
  8  	SERVICE_RQST_TRACE VARCHAR2(4000), 
  9  	SERVICE_RQST_STAT_ID VARCHAR2(1) NOT NULL ENABLE
 10     ) ;

Table SERVICE_RQST_LOG created.

SQL> 
SQL>   ALTER TABLE SERVICE_RQST_LOG 
  2    ADD CONSTRAINT SERVICE_RQST_LOG_PK PRIMARY KEY (SERVICE_RQST_LOG_NBR)
  3    ENABLE;

Table SERVICE_RQST_LOG altered.

SQL> 
SQL> 
SQL> 
SQL>   CREATE INDEX SERVICE_RQST_LOG_NDX_01 ON SERVICE_RQST_LOG (SERVICE_RQST_CD) ;

Index SERVICE_RQST_LOG_NDX_01 created.

SQL> 
SQL> 
SQL>   CREATE TABLE SERVICE_RQST_PARMS 
  2     (	SERVICE_RQST_CD VARCHAR2(20) NOT NULL ENABLE, 
  3  	PARM_NM VARCHAR2(30) NOT NULL ENABLE, 
  4  	PARM_DATA_TYPE VARCHAR2(10) NOT NULL ENABLE, 
  5  	PARM_NM_DESCR VARCHAR2(60) NOT NULL ENABLE
  6     ) ;

Table SERVICE_RQST_PARMS created.

SQL> 
SQL>   ALTER TABLE SERVICE_RQST_PARMS ADD CONSTRAINT 
  2  	SERVICE_RQST_PARMS_PK PRIMARY KEY (SERVICE_RQST_CD, PARM_NM)
  3    ENABLE;

Table SERVICE_RQST_PARMS altered.

SQL> 
SQL>   ALTER TABLE SERVICE_RQST_PARMS ADD CONSTRAINT SRP_SR_FK FOREIGN KEY (SERVICE_RQST_CD)
  2  	  REFERENCES SERVICE_RQST (SERVICE_RQST_CD) ENABLE;

Table SERVICE_RQST_PARMS altered.

SQL> 
SQL> 
SQL> 
SQL> exit
